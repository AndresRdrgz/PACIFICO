<!-- Datos generales Section -->
<div class="rounded-lg border bg-white text-card-foreground shadow-sm mb-6" data-v0-t="card">
    <div class="flex flex-col space-y-1.5 p-6">
       <h3 class="text-2xl font-semibold leading-none tracking-tight">Par치metros de la Cotizaci칩n</h3>
    </div>
    <div class="p-6 pt-0">
       <div class="grid gap-6">
        <div class="flex flex-col space-y-4 mb-2 mt-2 md:flex-row md:space-x-4 md:space-y-0">
                
                
            <button type="button" class="bg-black text-white px-4 py-2 rounded hover:bg-black/90" onclick="openModal()">Buscar Patrono 游댌</button>
           
           <div class="flex-1 mb-4">
               <label for="id_Patrono" class="text-sm font-medium">Patrono</label>
               {{ form.patrono }}
           </div>
           <div class="flex-1 mb-4" id="divPatronoCodigo">
               <label for="id_patronoCodigo" class="text-sm font-medium">C칩digo</label>
               {{ form.patronoCodigo }} 
           </div>
           <div class="flex-1 mb-4" id="divporServDesc">
            <label for="id_porServDesc" class="text-sm font-medium">% Serv Desc.</label>
            {{ form.porServDesc }} 
        </div>
        <div class="flex-1 mb-4" id="divselectDescuento">
            <label for="id_selectDescuento" class="text-sm font-medium">select Descuento</label>
            {{ form.selectDescuento }} 
        </div>
           <div class="flex-1 mb-4" id="divPagaDiciembre">
            <label for="id_pagaDiciembre" class="text-sm font-medium">Paga Diciembre</label>
            {{ form.pagaDiciembre }} 
        </div>
           <div class="flex-1 mb-4">
               <label for="id_cartera" class="text-sm font-medium">Cartera</label>
               {{ form.cartera }}
           </div>
          
           
        </div>
        
        
        <div class="flex space-x-4">
            
            <button type="button" class="bg-black text-white px-4 py-2 rounded hover:bg-black/90" onclick="opencancelacionesModal()">Cancelaciones 游늯</button>
           
            <div class="flex-1 mb-4">
               <label for="id_formaPago" class="text-sm font-medium">Forma de Pago</label>
               {{ form.formaPago}}
           </div>
           <div class="flex-1 mb-4">
               <label for="id_periodoPago" class="text-sm font-medium">Periodo de Pago</label>
               {{ form.periodoPago }}
           </div>
        </div>
        <!--Campos vendedor-->
        <div class="flex flex-col space-y-4 md:flex-row md:space-x-4 md:space-y-0">
           
           <button type="button" class="bg-black text-white px-4 py-2 rounded hover:bg-black/90" onclick="openModalVendedor()">Buscar Vendedor 游댌</button>
           
           
           <div class="flex-1 mb-4">
               <label for="id_vendedor" class="text-sm font-medium">Vendedor</label>
               {{ form.vendedor }}
           </div>

           
           
           
           <button type="button" class="bg-black text-white px-4 py-2 rounded hover:bg-black/90" onclick="openDialogComision()">Comisi칩n del Vendedor (%)</button>
           
        </div>
       </div>
    </div>
</div>


<!-- Modal cancelaciones-->
 {% include 'partials/modals/cancelaciones.html' %}


<!-- Modal for comision vendedor-->
<div id="comisionVendedorModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden" style="z-index: 51;">
    <div role="dialog" id="dialogComision" aria-describedby="radix-춺r2췉" aria-labelledby="radix-춺r1췉" data-state="open" class="fixed left-[50%] top-[50%] z-50 grid w-full max-w-4xl translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border border-black bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]   max-h-[90vh] overflow-y-auto" tabindex="-1" style="pointer-events: auto;">
        <div class="flex flex-col space-y-1.5 text-center sm:text-left">
        <h2 id="radix-춺r1췉" class="text-xl font-bold tracking-wide text-center bg-gray-900 text-white py-2 -mx-6 -mt-6 rounded-t-lg">COMISI칍N DEL VENDEDOR</h2>
        </div>
        <div class="grid grid-cols-2 gap-4 py-4">
        <div class="rounded-lg border border-black bg-card text-card-foreground shadow-sm" data-v0-t="card">
            <div class="p-6 pt-6">
            <div class="grid grid-cols-12 font-medium text-sm mb-4">
                <div class="col-span-5 text-left">Tipo</div>
                <div class="col-span-3 text-center">Porcentaje (%)</div>
                <div class="col-span-2 text-right">Monto</div>
            </div>
            <div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full mb-4"></div>
            <div class="grid grid-cols-12 items-center mb-4">
                <div class="col-span-5 text-left" id="comisionTipoVendedor">{{ form.vendedorTipo }}</div>
                
                <div class="col-span-3 flex justify-center">
                    <div class="mx-4 col-span-4 text-center center">{{ form.vendedorComisionPorcentaje }}</div>
                </div>
                <div class="mx-4 col-span-4 text-center center">{{ form.vendedorComision }}</div>
            </div>
            <div class="grid grid-cols-12 items-center mb-4">
                <div class="col-span-5 text-left">Otro - Se suma a Vendedor</div>
                    <div class="col-span-3 flex justify-center">
                        <div class="col-span-3 flex justify-center">
                            <div class="mx-4 col-span-4 text-center center">{{ form.vendedorOtroPorcentaje }}</div>
                        </div>
                    </div>
                    <div class="mx-4 col-span-4 text-center center">{{ form.vendedorOtroComision }}</div>
                </div>
            </div>
        </div>
        <div class="rounded-lg border border-black bg-card text-card-foreground shadow-sm" data-v0-t="card">
            <div class="p-6 pt-6">
                <div class="grid grid-cols-12 font-medium text-sm mb-2">
                    <div class="col-span-10">Gastos</div>
                    <div class="col-span-2 text-right">Monto</div>
                </div>
                <div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full mb-4"></div>
                <div class="grid grid-cols-12 items-center mb-3">
                    <div class="col-span-10">Gastos 1</div>
                    <div class="col-span-2"><input class="flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-right" type="number" value="0"></div>
                </div>
                <div class="grid grid-cols-12 items-center mb-3">
                    <div class="col-span-10">Gastos 2</div>
                    <div class="col-span-2"><input class="flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-right" type="number" value="0"></div>
                </div>
                <div class="grid grid-cols-12 items-center mb-3">
                    <div class="col-span-10">Gastos 3</div>
                    <div class="col-span-2"><input class="flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-right" type="number" value="0"></div>
                </div>
                <div class="grid grid-cols-12 items-center mb-3">
                    <div class="col-span-10">Promoci칩n y Publicidad</div>
                    <div class="col-span-2"><input class="flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-right" type="number" value="50"></div>
                </div>
            </div>
        </div>
        </div>
        <div class="flex flex-col-reverse sm:flex-row sm:space-x-2 sm:justify-end gap-2">
            
            <button type="button" onclick="closeDialogComision()" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-black text-white hover:bg-black/90 h-10 px-4 py-2">Aceptar</button>
        </div>
        <button type="button" class="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x h-4 w-4">
            <path d="M18 6 6 18"></path>
            <path d="m6 6 12 12"></path>
        </svg>
        <span class="sr-only">Close</span>
        </button>
    </div>
 </div>

<script>
    function openDialogComision() {
        const dialog = document.getElementById('comisionVendedorModal');
        dialog.classList.remove('hidden');
    }

    function closeDialogComision() {
        const dialog = document.getElementById('comisionVendedorModal');
        dialog.classList.add('hidden');
    }

    //document.getElementById('closeDialogComision').addEventListener('click', closeDialogComision);
    //document.getElementById('closeDialogComisionIcon').addEventListener('click', closeDialogComision);
</script>




 <script>
document.addEventListener('DOMContentLoaded', function() {
    const formaPagoField = document.getElementById('id_formaPago');
    const periodoPagoField = document.getElementById('id_periodoPago');
    const carteraField = document.getElementById('id_cartera');
    const tapeCarteraField = document.getElementById('tapeCartera');
    
    carteraField.addEventListener('change', function() {
        tapeCarteraField.value = carteraField.value;
    });
    
    formaPagoField.addEventListener('change', function() {
        if (formaPagoField.value === '1') {
            periodoPagoField.value = '1';
        } else if (formaPagoField.value === '2') {
            periodoPagoField.value = '2';
        }
    });
});

document.getElementById('divselectDescuento').style.display = 'none';


</script>