{# formulario/componentes/referencias_comerciales.html #}
<div id="referencias-comerciales-seccion" class="flex flex-col gap-8">
  {{ referencias_comerciales_formset.management_form }}

  {% for ref_form in referencias_comerciales_formset %}
    <div class="bg-white rounded-xl shadow-md border-l-8 border-green-500 p-6 mb-2">
      <h5 class="text-green-600 font-semibold text-lg flex items-center mb-4">
        <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-600 mr-2">
          <i class="fa-solid fa-briefcase"></i>
        </span>
        Referencia Comercial {{ forloop.counter }}
      </h5>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Tipo (desplegable) -->
        <div>
          <label for="{{ ref_form.tipo.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.tipo.label|default:"Tipo" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-tag"></i></span>
            {{ ref_form.tipo }}
          </div>
          {% if ref_form.tipo.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.tipo.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Nombre -->
        <div>
          <label for="{{ ref_form.nombre.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.nombre.label|default:"Nombre" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-building"></i></span>
            <input
              type="text"
              name="{{ ref_form.nombre.html_name }}"
              id="{{ ref_form.nombre.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Nombre"
              value="{{ ref_form.nombre.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.nombre.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.nombre.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Actividad -->
        <div>
          <label for="{{ ref_form.actividad.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.actividad.label|default:"Actividad" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-industry"></i></span>
            <input
              type="text"
              name="{{ ref_form.actividad.html_name }}"
              id="{{ ref_form.actividad.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Actividad"
              value="{{ ref_form.actividad.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.actividad.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.actividad.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Teléfono -->
        <div>
          <label for="{{ ref_form.telefono.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.telefono.label|default:"Teléfono" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-phone"></i></span>
            <input
              type="text"
              name="{{ ref_form.telefono.html_name }}"
              id="{{ ref_form.telefono.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Teléfono"
              value="{{ ref_form.telefono.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.telefono.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.telefono.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Celular -->
        <div>
          <label for="{{ ref_form.celular.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.celular.label|default:"Celular" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-mobile-alt"></i></span>
            <input
              type="text"
              name="{{ ref_form.celular.html_name }}"
              id="{{ ref_form.celular.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Celular"
              value="{{ ref_form.celular.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.celular.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.celular.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Saldo -->
        <div>
          <label for="{{ ref_form.saldo.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.saldo.label|default:"Saldo" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-dollar-sign"></i></span>
            <input
              type="number"
              step="0.01"
              name="{{ ref_form.saldo.html_name }}"
              id="{{ ref_form.saldo.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Saldo"
              value="{{ ref_form.saldo.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.saldo.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.saldo.errors|striptags }}</div>
          {% endif %}
        </div>
      </div>
    </div>
  {% endfor %}
</div>
            