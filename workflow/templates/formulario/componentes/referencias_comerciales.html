{# formulario/componentes/referencias_comerciales.html #}
<div id="referencias-comerciales-seccion" class="flex flex-col gap-8">
  {{ referencias_comerciales_formset.management_form }}

  {% for ref_form in referencias_comerciales_formset %}
    <div class="bg-white rounded-xl shadow-md border-l-8 border-green-500 p-6 mb-2">
      <h5 class="text-green-600 font-semibold text-lg flex items-center mb-4">
        <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-600 mr-2">
          <i class="fa-solid fa-briefcase"></i>
        </span>
        Referencia Comercial {{ forloop.counter }}
      </h5>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Nombre de la Empresa -->
        <div>
          <label for="{{ ref_form.empresa.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.empresa.label|default:"Empresa" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-building"></i></span>
            <input
              type="text"
              name="{{ ref_form.empresa.html_name }}"
              id="{{ ref_form.empresa.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Nombre de la empresa"
              value="{{ ref_form.empresa.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.empresa.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.empresa.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Dirección -->
        <div>
          <label for="{{ ref_form.direccion.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.direccion.label|default:"Dirección" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-map-marker-alt"></i></span>
            <input
              type="text"
              name="{{ ref_form.direccion.html_name }}"
              id="{{ ref_form.direccion.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Dirección"
              value="{{ ref_form.direccion.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.direccion.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.direccion.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Teléfono -->
        <div>
          <label for="{{ ref_form.telefono.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.telefono.label|default:"Teléfono" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-phone"></i></span>
            <input
              type="text"
              name="{{ ref_form.telefono.html_name }}"
              id="{{ ref_form.telefono.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="0000-0000"
              value="{{ ref_form.telefono.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.telefono.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.telefono.errors|striptags }}</div>
          {% endif %}
        </div>
        <!-- Contacto -->
        <div>
          <label for="{{ ref_form.contacto.id_for_label }}" class="block font-semibold mb-1">
            {{ ref_form.contacto.label|default:"Contacto" }}
          </label>
          <div class="flex items-center border rounded-lg bg-white px-3 py-2">
            <span class="mr-2 text-green-400"><i class="fa-solid fa-user-tie"></i></span>
            <input
              type="text"
              name="{{ ref_form.contacto.html_name }}"
              id="{{ ref_form.contacto.id_for_label }}"
              class="flex-1 outline-none bg-transparent"
              placeholder="Nombre del contacto"
              value="{{ ref_form.contacto.value|default_if_none:'' }}"
            >
          </div>
          {% if ref_form.contacto.errors %}
            <div class="text-red-600 text-xs mt-1">{{ ref_form.contacto.errors|striptags }}</div>
          {% endif %}
        </div>
      </div>
    </div>
  {% endfor %}
</div>
