<!-- Modal para Miembros del Grupo -->
<div class="modal fade" id="modalMiembrosGrupo" tabindex="-1" aria-labelledby="modalMiembrosLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-warning text-dark">
        <h5 class="modal-title" id="modalMiembrosLabel">
          👥 Miembros del grupo: <span id="nombre-grupo-modal"></span>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <!-- Loading state -->
        <div id="loading-miembros" class="text-center py-4" style="display: none;">
          <div class="spinner-border text-warning" role="status">
            <span class="visually-hidden">Cargando...</span>
          </div>
          <p class="text-muted mt-2">Cargando miembros del grupo...</p>
        </div>
        
        <!-- Lista de miembros -->
        <div id="contenedor-miembros">
          <div class="table-responsive">
            <table class="table table-hover align-middle">
              <thead class="table-light">
                <tr>
                  <th>👤 Usuario</th>
                  <th>📧 Email</th>
                  <th>📚 Cursos</th>
                  <th>📅 Registro</th>
                  <th>🔧 Estado</th>
                  <th>⚙️ Acciones</th>
                </tr>
              </thead>
              <tbody id="lista-miembros-grupo">
                <!-- Los miembros se cargarán aquí -->
              </tbody>
            </table>
          </div>
        </div>
        
        <!-- Empty state -->
        <div id="empty-miembros" class="text-center py-5" style="display: none;">
          <div class="text-muted">
            <i class="fas fa-users-slash fa-3x mb-3"></i>
            <h5>Sin miembros</h5>
            <p>Este grupo no tiene miembros asignados.</p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          ❌ Cerrar
        </button>
        <button type="button" class="btn btn-outline-primary" id="agregar-miembros-btn">
          ➕ Agregar Miembros
        </button>
      </div>
    </div>  </div>
</div>

<!-- Modal para Agregar Miembros al Grupo -->
<div class="modal fade" id="modalAgregarMiembros" tabindex="-1" aria-labelledby="modalAgregarMiembrosLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title" id="modalAgregarMiembrosLabel">
          ➕ Agregar miembros al grupo: <span id="nombre-grupo-agregar"></span>
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <!-- Filtro de usuarios disponibles -->
        <div class="mb-3">
          <div class="input-group">
            <span class="input-group-text">🔍</span>
            <input type="text" class="form-control" id="filtro-usuarios-disponibles" 
                   placeholder="Buscar usuarios disponibles...">
          </div>
        </div>
        
        <!-- Loading state -->
        <div id="loading-usuarios-disponibles" class="text-center py-4" style="display: none;">
          <div class="spinner-border text-success" role="status">
            <span class="visually-hidden">Cargando...</span>
          </div>
          <p class="text-muted mt-2">Cargando usuarios disponibles...</p>
        </div>
        
        <!-- Lista de usuarios disponibles -->
        <div id="contenedor-usuarios-disponibles" style="max-height: 400px; overflow-y: auto;">
          <div class="list-group" id="lista-usuarios-disponibles">
            <!-- Los usuarios disponibles se cargarán aquí -->
          </div>
        </div>
        
        <!-- Empty state -->
        <div id="empty-usuarios-disponibles" class="text-center py-5" style="display: none;">
          <div class="text-muted">
            <i class="fas fa-user-plus fa-3x mb-3"></i>
            <h5>No hay usuarios disponibles</h5>
            <p>Todos los usuarios ya están en el grupo o no hay usuarios en el sistema.</p>
          </div>
        </div>
        
        <!-- Usuarios seleccionados -->
        <div id="usuarios-seleccionados-container" style="display: none;">
          <hr>
          <h6>👥 Usuarios seleccionados para agregar:</h6>
          <div id="usuarios-seleccionados" class="d-flex flex-wrap gap-2">
            <!-- Los usuarios seleccionados aparecerán aquí -->
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          ❌ Cancelar
        </button>
        <button type="button" class="btn btn-success" id="confirmar-agregar-miembros" disabled>
          ✅ Agregar Seleccionados (<span id="contador-seleccionados-agregar">0</span>)
        </button>
      </div>
    </div>
  </div>
</div>
